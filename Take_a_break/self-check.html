<!DOCTYPE html>
<html lang="ja">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New&family=Kiwi+Maru&display=swap" rel="stylesheet">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Take a break ğŸª½</title>
  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background: #fdf6f0;
      color: #5b4b44;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 2rem;
    }
    .card {
      background: #fff8f4;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      padding: 2rem;
      margin-top: 1rem;
    }
    .button {
      padding: 10px 20px;
      background: #ffdede;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1rem;
      margin: 0.5rem;
      transition: background 0.3s;
    }
    .button:hover {
      background: #ffcaca;
    }
    h1 {
      font-size: 2rem;
      color: #b47a6c;
    }
    h2 {
      color: #d08770;
    }
    ul {
      text-align: left;
      padding-left: 1em;
    }
    .star {
      color: #f5c518;
      margin-left: 5px;
    }
    .fade-in {
      animation: fadeIn 0.6s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.5rem;
    }
    th, td {
      border: 1px solid #ecdcd6;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #ffecea;
    }
    body {
  font-family: 'Kiwi Maru', 'Zen Kaku Gothic New', sans-serif;
}

  </style>
</head>
<body>
  <div class="container">
    <div id="startBox" class="card">
      <h1>Take a break ğŸª½</h1>
      <p>ç„¡ç†ã—ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ 
        è‡ªåˆ†ã®çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ã‚ãªãŸã«åˆã£ãŸä¼‘ã¿æ–¹ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚</p>
      <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New&family=Kiwi+Maru&display=swap" rel="stylesheet">

      <button id="startBtn" class="button">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
    </div>

    <div id="questionCard" class="card" style="display:none;">
      <div id="questionBox"></div>
    </div>

    <div id="resultBox" class="card" style="display:none;"></div>

    <div id="restCard" class="card restCard" style="display:none;">

      <h3>ãŠã™ã™ã‚ã®ä¼‘æ†©æ–¹æ³•</h3>
      <div id="restTable"></div>
    </div>

    <div id="retryBox" class="card" style="display:none;">
      <button onclick="location.reload()" class="button">â—€ï¸ ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
    
    <div class="card" style="margin-top: 1rem;">
      <a href="æ¤œè¨¼ãƒšãƒ¼ã‚¸.html" style="
        display: inline-block;
        padding: 10px 20px;
        background-color: #ffe3e3;
        color: #5b4b44;
        border-radius: 12px;
        text-decoration: none;
        font-size: 1rem;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        transition: background 0.3s;
      " onmouseover="this.style.backgroundColor='#ffd0d0'" onmouseout="this.style.backgroundColor='#ffe3e3'">
        å®Ÿéš›ã«æ¤œè¨¼ã—ã¦ã¿ãŸ â–¶
        
      </a>
    </div>

  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const startBtn = document.getElementById("startBtn");
      const questionCard = document.getElementById("questionCard");
      const questionBox = document.getElementById("questionBox");
      const resultBox = document.getElementById("resultBox");
      const restCard = document.getElementById("restCard");
      const retryBox = document.getElementById("retryBox");

      const questions = [
        { text: "æœèµ·ãã‚‹ã®ãŒã¤ã‚‰ã„", type: "èº«ä½“" },
        { text: "è‚©ã‚„é¦–ãŒã“ã‚Šã‚„ã™ã„", type: "èº«ä½“" },
        { text: "ç–²ã‚Œã‚’æ„Ÿã˜ã‚„ã™ã„ä½“è³ªã ã¨æ€ã†", type: "èº«ä½“" },
        { text: "éšæ®µã®ä¸Šã‚Šä¸‹ã‚ŠãŒã—ã‚“ã©ã„ã¨æ„Ÿã˜ã‚‹", type: "èº«ä½“" },
        { text: "ä»•äº‹ã‚„å‹‰å¼·ã«é›†ä¸­ã§ããªã„", type: "è„³ãƒ»ç¥çµŒ" },
        { text: "SNSã‚„ã‚¹ãƒãƒ›ã‚’ãšã£ã¨è¦‹ã¦ã—ã¾ã†", type: "è„³ãƒ»ç¥çµŒ" },
        { text: "è€ƒãˆãŒé ­ã®ä¸­ã§æ­¢ã¾ã‚‰ãªã„", type: "è„³ãƒ»ç¥çµŒ" },
        { text: "ãƒãƒ«ãƒã‚¿ã‚¹ã‚¯ãŒè‹¦æ‰‹ã«ãªã£ã¦ããŸ", type: "è„³ãƒ»ç¥çµŒ" },
        { text: "ã‚¤ãƒ©ã‚¤ãƒ©ã—ã‚„ã™ã„", type: "æ„Ÿæƒ…" },
        { text: "ãªãœã‹ã‚„ã‚‹æ°—ãŒå‡ºãªã„", type: "æ„Ÿæƒ…" },
        { text: "èª°ã«ã‚‚ä¼šã„ãŸããªã„ã¨æ„Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚‹", type: "æ„Ÿæƒ…" },
        { text: "ã•ã•ã„ãªã“ã¨ã§æ¶™ãŒå‡ºã‚‹", type: "æ„Ÿæƒ…" },
        { text: "ç›®ãŒç–²ã‚Œã‚„ã™ã„", type: "æ„Ÿè¦š" },
        { text: "å‘¨å›²ã®éŸ³ã‚„å…‰ã«æ•æ„Ÿã«ãªã£ã¦ã„ã‚‹æ°—ãŒã™ã‚‹", type: "æ„Ÿè¦š" },
        { text: "é¦™ã‚Šã‚„éŸ³ã«å¼·ãåå¿œã—ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚‹", type: "æ„Ÿè¦š" }
      ];

      let current = 0;
      let scores = {};

      startBtn.addEventListener("click", () => {
        document.getElementById("startBox").style.display = "none";
        questionCard.style.display = "block";
        showQuestion();
      });

      function showQuestion() {
        const q = questions[current];
        questionBox.innerHTML = `
        <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New&family=Kiwi+Maru&display=swap" rel="stylesheet">

          <h2 class="fade-in">${q.text}</h2>
          <button class="button" onclick="answer('yes')">ã¯ã„</button>
          <button class="button" onclick="answer('no')">ã„ã„ãˆ</button>
          ${current > 0 ? '<button class="button" onclick="goBack()">å‰ã¸</button>' : ''}
        `;
      }

      window.answer = function (response) {
        const type = questions[current].type;
        if (response === "yes") {
          scores[type] = (scores[type] || 0) + 1;
        }
        current++;
        if (current < questions.length) {
          showQuestion();
        } else {
          showResult();
        }
      }

      window.goBack = function () {
        const prevType = questions[current - 1].type;
        if (scores[prevType]) {
          scores[prevType]--;
        }
        current--;
        showQuestion();
      }

      function showResult() {
        questionCard.style.display = "none";
        resultBox.style.display = "block";
        restCard.style.display = "block";
        retryBox.style.display = "block";

        let max = 0;
        let type = "";
        for (let t in scores) {
          if (scores[t] > max) {
            max = scores[t];
            type = t;
          }
        }

        const encouragements = {
          "èº«ä½“": "æ¯æ—¥ã‚’é ‘å¼µã£ã¦ã„ã‚‹ä½“ã‚’ã€ä»Šæ—¥ã¯å°‘ã—ã ã‘ç”˜ã‚„ã‹ã—ã¦ã‚ã’ã¾ã—ã‚‡ã†ã­ã€‚",
          "è„³ãƒ»ç¥çµŒ": "è€ƒãˆã™ãã¦ç–²ã‚Œã¦ã—ã¾ã£ãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚é™ã‹ãªæ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚",
          "æ„Ÿæƒ…": "å¿ƒãŒã¡ã‚‡ã£ã¨ãŠç–²ã‚Œæ°—å‘³ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚è‡ªåˆ†ã®æ°—æŒã¡ã«ã‚„ã•ã—ãå¯„ã‚Šæ·»ã£ã¦ã‚ã’ã¦ãã ã•ã„ã­ã€‚",
          "æ„Ÿè¦š": "äº”æ„ŸãŒãŸãã•ã‚“ã®åˆºæ¿€ã‚’å—ã‘ã¦ããŸã‚ˆã†ã§ã™ã€‚å„ªã—ã„å…‰ã‚„éŸ³ã«åŒ…ã¾ã‚Œã¦ã¿ã¾ã—ã‚‡ã†ã€‚"
        };

        resultBox.innerHTML = `
          <h2>ã‚ãªãŸã¯ <strong>${type}</strong> ã‚¿ã‚¤ãƒ—ã®ç–²ã‚Œ</h2>
          <p>ã“ã®ã‚¿ã‚¤ãƒ—ã®ç–²ã‚ŒãŒä»Šã®ã‚ãªãŸã«ã¨ã£ã¦å¼·ãå‡ºã¦ã„ã¾ã™ã€‚</p>
          <p style="font-size: 1.1rem; color: #7a5e54;"><em>${encouragements[type] || "å°‘ã—ãšã¤ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ä¼‘ã‚“ã§ãã ã•ã„ã­ã€‚"}</em></p>
        `;

        document.getElementById("restTable").innerHTML = getRestRecommendations(type);
      }

      function getRestRecommendations(type) {
        const stars = n => 'â˜…'.repeat(n) + 'â˜†'.repeat(5 - n);

        const restData = {
          "èº«ä½“": [
            { method: "ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’ã™ã‚‹", rating: [5, 4, 4, 5, 4] },
            { method: "æ¸©ã‹ã„ãŠé¢¨å‘‚ã«ã‚†ã£ãã‚Šæµ¸ã‹ã‚‹", rating: [4, 5, 4, 3, 4] },
            { method: "ååˆ†ãªç¡çœ ã‚’ã¨ã‚‹", rating: [3, 5, 5, 5, 3] },
            { method: "è»½ã„ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã‚’ã™ã‚‹", rating: [4, 4, 4, 5, 4] },
            { method: "å°±å¯å‰ã¯ç…§æ˜ã‚’æš—ãã—ã¦å‰¯äº¤æ„Ÿç¥çµŒå„ªä½ã«", rating: [5, 4, 3, 4, 5] },
            { method: "ãƒ›ãƒƒãƒˆã‚¢ã‚¤ãƒã‚¹ã‚¯ã§ç›®å…ƒã‚’æ¸©ã‚ã‚‹", rating: [5, 4, 4, 4, 4] }
          ],
          "è„³ãƒ»ç¥çµŒ": [
            { method: "ä¸€æ—¥å®Œå…¨ã‚ªãƒ•ï¼ˆäºˆå®šã‚’å…¥ã‚Œãªã„ï¼‰", rating: [3, 5, 4, 5, 4] },
            { method: "ã‚¹ãƒãƒ›ã‚’ä½¿ã‚ãªã„", rating: [3, 4, 3, 5, 3] },
            { method: "è‡ªç„¶ã®ä¸­ã‚’æ•£æ­©ã™ã‚‹", rating: [5, 5, 4, 4, 4] },
            { method: "å¡—ã‚Šçµµã‚„æ‰‹èŠ¸ãªã©æ‰‹ã‚’å‹•ã‹ã™è»½ã„è¶£å‘³", rating: [4, 4, 4, 4, 3] },
            { method: "é™ã‹ãªå ´æ‰€ã§ã²ã¨ã‚Šæ™‚é–“ã‚’ã¨ã‚‹", rating: [4, 5, 4, 5, 4] },
            { method: "ãƒãƒ¼ãƒ–ãƒ†ã‚£ãƒ¼ã§ä¸€æ¯", rating: [5, 4, 3, 4, 4] }
          ],
          "æ„Ÿæƒ…": [
            { method: "ä¿¡é ¼ã§ãã‚‹äººã«è©±ã™", rating: [4, 5, 4, 5, 4] },
            { method: "æ³£ã‘ã‚‹æ˜ ç”»ã‚’è¦³ã‚‹", rating: [5, 5, 3, 5, 5] },
            { method: "æ—¥è¨˜ã‚„ãƒ¡ãƒ¢ã§æ°—æŒã¡ã‚’æ›¸ãå‡ºã™", rating: [4, 4, 4, 5, 4] },
            { method: "æ„Ÿè¬ãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹", rating: [5, 4, 4, 5, 3] },
            { method: "å°ã•ãªæˆåŠŸä½“é¨“ã‚’æŒ¯ã‚Šè¿”ã‚‹", rating: [4, 4, 4, 4, 3] },
            { method: "ãƒšãƒƒãƒˆã‚„æ¤ç‰©ã¨éã”ã™", rating: [5, 4, 3, 5, 3] }
          ],
          "æ„Ÿè¦š": [
            { method: "ã‚­ãƒ£ãƒ³ãƒ‰ãƒ«ã‚„ã‚¢ãƒ­ãƒã‚’ç„šã", rating: [5, 4, 3, 4, 5] },
            { method: "ã‚«ãƒ•ã‚§ã§é™ã‹ã«éã”ã™", rating: [5, 4, 4, 3, 4] },
            { method: "å¥½ããªéŸ³æ¥½ã‚’è´ã", rating: [5, 5, 4, 5, 4] },
            { method: "ã‚¹ãƒãƒ›ãƒ»PCã‹ã‚‰15åˆ†ã ã‘ã§ã‚‚é›¢ã‚Œã¦ç›®ã‚’ä¼‘ã‚ã‚‹", rating: [4, 5, 3, 4, 4] },
            { method: "è¦–è¦šã‚’ç™’ã™é™ã‹ãªé¢¨æ™¯ã‚’è¦‹ã‚‹", rating: [5, 5, 4, 5, 3] },
            { method: "è§¦æ„ŸãŒæ°—æŒã¡ã‚ˆã„ãƒ–ãƒ©ãƒ³ã‚±ãƒƒãƒˆã«ãã‚‹ã¾ã‚‹", rating: [5, 4, 4, 5, 4] }
          ]
        };

        const headers = ["ä¼‘æ†©æ–¹æ³•", "ã¯ã˜ã‚ã‚„ã™ã•", "ãƒªãƒ©ãƒƒã‚¯ã‚¹åŠ¹æœ", "æŒç¶šã—ã‚„ã™ã•", "æº–å‚™ãƒ»ã‚³ã‚¹ãƒˆ", "å³åŠ¹æ€§",];

        let html = '<table><thead><tr>' + headers.map(h => `<th>${h}</th>`).join('') + '</tr></thead><tbody>';
        restData[type].forEach(item => {
          html += '<tr>';
          html += `<td>${item.method}</td>`;
          item.rating.forEach(score => {
            html += `<td>${stars(score)}</td>`;
          });
          html += '</tr>';
        });
        html += '</tbody></table>';
        return html;
      }
    });
  </script>
</body>
</html>
